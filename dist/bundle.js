!function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";a.r(e);a(1);document.addEventListener("DOMContentLoaded",()=>{let t=window.io("http://localhost:3000");localStorage.removeItem("match");let e=document.querySelector(".header__button"),a=document.querySelector(".match__pause"),n=document.querySelectorAll(".match__board td"),r=document.querySelector(".match__turn");e.addEventListener("click",function(){let e=this.dataset.action;"new match"===e&&(t.emit(e),this.classList.add("disabled"))}),n.forEach(n=>{n.addEventListener("click",function(){let n=JSON.parse(localStorage.getItem("match")),i=this.dataset.value;if(n&&!n.isFinished&&!n.isPaused&&"0"===i){this.dataset.value=n.turn,n.game[this.dataset.row][this.dataset.col]=n.turn,this.innerHTML="X"===n.turn?'<i class="fas fa-times fa-3x grey-text text-darken-3"></i>':'<i class="fas fa-circle fa-3x white-text"></i>',n.turn="X"===n.turn?"O":"X",r.textContent=`Tu turno ${n.turn}`;var s=n.game.flat().filter(t=>!t);if(s.length<=4){let i=function(t){for(let e=0;e<t.length;e++)if(t[e][0]===t[e][1]&&t[e][1]===t[e][2])return t[e][1];for(let e=0;e<t.length;e++)if(t[0][e]===t[1][e]&&t[1][e]===t[2][e])return t[1][e];if(t[0][0]===t[1][1]&&t[1][1]===t[2][2])return t[1][1];if(t[0][2]===t[1][1]&&t[1][1]===t[2][0])return t[1][1]}(n.game);i?(n.winner=i,n.isFinished=!0,n.turn="",e.classList.remove("disabled"),a.classList.add("disabled"),r.textContent=`¡Has ganado ${i}!`,t.emit("match finished",n),localStorage.removeItem("match")):0===s.length&&(n.draw=!0,n.isFinished=!0,n.turn="",e.classList.remove("disabled"),a.classList.add("disabled"),r.textContent="Empate",t.emit("match finished",n),localStorage.removeItem("match"))}localStorage.setItem("match",JSON.stringify(n))}})}),a.addEventListener("click",function(){let t=JSON.parse(localStorage.getItem("match")),e=this.children.item(0),a=this.children.item(1);t.isPaused?(e.classList.remove("fa-play"),e.classList.add("fa-pause"),a.textContent="PAUSA",t.isPaused=!1):(e.classList.remove("fa-pause"),e.classList.add("fa-play"),a.textContent="SEGUIR",t.isPaused=!0),localStorage.setItem("match",JSON.stringify(t))}),t.on("new match created",t=>{t.turn="X",localStorage.setItem("match",JSON.stringify(t)),t.game.forEach((t,e)=>{t.forEach((t,a)=>{n.forEach((n,r)=>{let i=parseInt(n.dataset.col,10),s=parseInt(n.dataset.row,10);i===a&&s===e&&(n.dataset.value=t,n.innerHTML="")})})}),a.classList.remove("disabled"),r.textContent="¡A Jugar!",setTimeout(()=>{r.textContent=`Tu turno ${t.turn}`},1e3)})})},function(t,e,a){}]);